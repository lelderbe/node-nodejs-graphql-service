# Graphql Service

![image](https://user-images.githubusercontent.com/29270751/178095914-81b7cd0d-3cde-4e57-b7dd-d3594e0c3244.png)

This is a GraphQL service for ["Musicify microservices"](https://github.com/rolling-scopes-school/node-graphql-service) project, which can be used as one point for all client requests. It handles client requests and retrieves data from several underlying microservices.

Task is [here](https://github.com/AlreadyBored/nodejs-assignments/blob/main/assignments/graphql-service/assignment.md).

Created with Apollo Server 3 and using TypeScript.

## ‚öôÔ∏è How to install

-   Clone/download repo and install packages `npm i`

-   Rename .env.example to .env

-   If needed apply changes in .env file. There is a PORT variable (by default app uses port 4000)

## üöÄ How to run

Run the application

```
npm run start:dev
```

## üíª How to use

This is a GraphQL service for Musicify microservices project, see install/usage details here: https://github.com/rolling-scopes-school/node-graphql-service

You should have prepared:

-   Configure and start MongoDB (used by microservices)

-   Configure .env files and start all microservices

Then start this GraphQL server:

-   Start this server and open GraphQL console at http://localhost:4000/ for testing.

## üí• Features

The following queries and mutations released (click entities to open prepared queries with some data for testing):

-   [Artists][artists]
    -   artist
    -   artists
    -   createArtist
    -   deleteArtist
    -   updateArtist
-   [Genres][genres]
    -   genre
    -   genres
    -   createGenre
    -   deleteGenre
    -   updateGenre
-   [Bands][bands]
    -   band
    -   bands
    -   createBand
    -   deleteBand
    -   updateBand
-   [Tracks][tracks]
    -   track
    -   tracks
    -   createTrack
    -   deleteTrack
    -   updateTrack
-   [Albums][albums]
    -   album
    -   albums
    -   createAlbum
    -   deleteAlbum
    -   updateAlbum
-   [Users][users]
    -   jwt
    -   user
    -   register
-   [Favourites][favourites]
    -   favourites
    -   addTrackToFavourites
    -   addBandToFavourites
    -   addArtistToFavourites
    -   addGenreToFavourites

## üìö References

Lift-off I: Basics: https://www.apollographql.com/tutorials/lift-off-part1

Introduction to Apollo Server: https://www.apollographql.com/docs/apollo-server/

[artists]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAIJ4oCWAzilUcADpJFECG51t9TLLFKCOHUbNefMDzFEAZhTw0Acq0SSxVBFAhIwSlaLFwKYMABsEuhKt4AjOSgAWAEVYCrLW%2BXsAFE6yiX9Xk0YVEI3ImtWbWFw8ViiJGUAqV4IPAoAcwokeIB3BGsqfmSUogzkPAQYwJSjeJZEvVLeMCqodIAHSi16omDQgl6CBHZ4gF94xDhrfGrmlll5FAte9U1tFZqpDwdnVy2xHe9ff17%2BlDCDmyiwOfm4q7FGkvu0zOzelimZ%2BW5HqUWiiSn14ay0OmB-zEdShRAmsPyhWKIPKSEqd3uD0xvGeIJYrSo7QoXQoPVhLHOl2xLGGo1h8PuDNKTLELN42RoeHgyFoVjZEGk0nUKCsJgohhFgRQEBQrBMknh8KYOHwxDIlBoAAoACTsDUoACSYHQRANjgAhABKP4sPWcTVGE26jg0I3WkTQiSBQHLSFqDTgzYGIymcx%2Bmx2JwuF4RSM%2BPwxymDQKRaI2qS4wJsjkXbmoKgKphKpBwGCy7rMADClWj6vt2uyHTLJurIwEdddSCbKCt6fabYQHZQDq7zaIDdHKHdVhhYh9QdBAY24a%2BIbMC-ckb2MaO8dOgSTVlTt3TTxXcJnSE5ed5okVTCYpfLpOYAFUOmBay7h9qYB%2Bv-qRomma5oADTjn%2Bn7tt%2BBqTgATCa75QYOMGTr2HpEJBAH2o6EH-tBgFgOBjZjr%2B%2BEoYB8HToEs68PO55gsuTS8IYxjrueRzbkecYnImEAhBcyaHDcGI4ue2ZXrmiD5oWSDFk%2BLgvkQjgIGYBH1q0akUZwQGmha1H4qpCDqVquHappxnaa6YAGbwfgANZIBAuRmGA5RemIFkCGAlb8agsljCAoEgAAbuwFCsNYZhUBgIAYQwIAkSKGCnkQAD0aVEAl9EqClCUANIwOQCWgVYGVZSAjEQrlJoJb5kQfEFVjZXIQI1RVACyFBQPYrCqSVzWVUu1WWHlIAAFIOVQPRNYECWsaGKwpUgMAmCYpVzSAnHRgltUgHBAAMaUHQAjGlJ0AJwAGxwQNm27rxu0VQA6qwVD2NkGTSjks1iAlh5ja%2BADKJB3X9W0iUaBYpQA2glN1QAAHKwB0AKyI3B1hwdIV0AMwHawiMIAd1gACwnWAJ0JQAuht4M5ly0m8rDCUAOIwPwoxBRVXgRU5NMKnTFVYSZhoSGNCPI6d1i4xdcFwaTADsIxY6TuNQKT5Ng8L5FDrB3a3SlGEsOVLVLEtJorWtQsm5lCVVRbCSretZV2yAC3se1Vsu4EptbVuO3Lc7NvpW7D0Jk93sh37AOW8Hg3HlQUNPXDICSyj6OY9jeME0TJPk5TNPR27DM3tDcdrYLkgJXa1lPfDcFIyjJ0y3LCvK5FCvq5rVO-RVXlWWL9dp43yMndIUCy-LSsq13Guo6jCVFiAYxAA
[genres]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAOLJ4IDORwAOkkUQOblU32OMCWKCc1dBp25gOwokgCGiMcLBUoeLgAcUXCElmcoEGKkJbGBBJLxaAvlogAza5QQotAGy5weWlBBSSnYy0n96HHxiMiQKAAoAEhZwhABJMHQieIARAEIASnYhWMiuJKIY1kTswWECrSkZIUZ5SkUVNQ0tHT0UA1qiY1M-ekCkOBhvZoYAYQpJXjDIqK4kZWHkiZNpkoXhrJzGRVWEGYQI%2BcWUZLmNlDKtSq7qhC16xtV1TS62-QItHrMhfwGhkYvIgAVWUYCm%2B1Y0RgYIhB0SyTS6QANEUYeC1nF4hcAEzJUEYyFYi5bcpEdFwqEFM4UzEURKo45LNGwukJXFXLo3YR3B4KJTPFpvXQfL4mH6MP70egAqZA1IIJwOImzeRKtkIlIZTl1RXKg5HQpRNX6kpgHWcSRQADWSAgAHclWAWKIuibeGAxiLHL9%2BiBkSAAG6mLiSABGSsoGBAZNoICZjgw204cd5SbjAEEnLw8FI1IGEEQAErQa1x5FaOOPAWjOPJVMIe3F0tESgoAhK8uVkDvDqfdMgYEAZQzXa6ce%2BdaIAEYAJyzgCsfgrQjjeQSogHADYcVAAByz%2BQAFgXAHZrAgcTiwABmU84hfg2dbvdjxhx2kqjdTuM7-ezy8wDPC8r1ve9H0kZ8wzfIgP1ZL9sROHEpzJd8QDTesQAABQgZQYLQ6smheH8QBcJgAAsUCIIZKC4KB8NgkBJyTOc9wABmXMQqz1DVN0wv8DwQdjgMva87wfJ9TxvOM-XMIA
[bands]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAEICGSYAzkcADpJFEBGF1tDTTAlignDXqMuPMJxFEkZROJEQ83AObcksrojjN8gtSIBm3PFRQA5aQl1cqCKBEpmZwiURXG88ZCiqWeSNx9RLAF9LAHcEZipeCycuRWQ8BB1YkW4xFK4pR2cmMCSoBQAHFG47HyJbGFRCcoIEMjxgtRDYiD09axQ1ABtuOF41FAgUMm7xFpaGHHxickoACgASVkoASTB0IlWAEQBCAEoOYRWwebTN5bZ1w6FU9JEsmLkFZVVYjS0jI%2BcDI1NzSzWWz2AEZVwodyIQKxFoicKRaJqeJIRLJZxpSyPSx5KgFbjFUpvZyVaoESx1BrNcYMSZIOAwEYlOxEADCiTIfDmp0WKkKDM2bPqnKuSD5KAO3wq7OFC15-KIPNFDJuagxsSxrReKjUH20kv0hmMDieEiBdjAxqpsXhUT4SISSX1XDVzg1zhxeIJZQyJIhZIyFMaMOpSFp9MZhKIAFVCmAOQguUsYLH41z1psdrsADQK5NxmVgVZKlAAJk2MfzCZFYoltyIedTbDOG1zKYL6xzcpQFwb7eLJZVsRdmVBzyU2ve-E%2BaIkvyNo9NNnNluD1oitpNTGRqKdTDdXFhRAmDAY4Y5ke2CG6CALSzy1-bLczg9yV5vVdlLcW9-fabAL64MgoAAayQCBQmvMB4nuLgfz4MAWQgKoumECYQCzEAADcGm4MhmGvKgMBAOs6BALtSM2OsmFIrEMCIUiTEMbCpFIrM1FI%2BRx1UOiOK1bi2NiUibURHiQAACxQFBCnQAB6GThLtdD2JAXUjAoogAG1LCoiRSIxUSADYSygAAOMgAAYAEZmAAZgAThLEsABYAHZ6mYZybKgJynMs1jyj0vwIQCLpRIAcRgXhKSUjJqJAQNvDorSQEsuyXJc0iAF0mliTKBJEUjtySdZEs2DTstQ-L6JAXsP0LMRDOMszzIAVhMksPL0AybPMsgTIQczmF8sA-JiuLarTft1J0uTqtozYkBgbpuiqphZt4rj1MW5bVqIdaQAUiw6O2la1H21TSs0s6ZK4GaboKsiGoWpbTtiWaHvBSFPC2l7dverhSISn7luug9Qby5SiqoEr1OSozTLsvInJaly9AQRywBslySxauM7IMkysvGKrSJOdZ1NI%2BHmrajqSy6nq%2BoGobLJG-zhFIuC6vJxrTLIGzLKc2n6d6-rBt8hADNImkQCCIA
[tracks]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABACp4CGUA1gM5HAA6SRRKF1djzLRAligjicmPHrzAjRrfgBsEk0eRkAjeMO5SiScogU8AvnpbLySMOs0ttujQaNEwMCil4Qk9vAjnkaCCbZYAc2RPC0treQCiQ1sY0QgAMwTfFD0ZXjh%2BPRQIFCVJGJimHHxiMkoqAAoAEjYKgEkwdCJ6gBEAQgBKekk66krxZtr2KkburlFxbNlIxRU1HqiIvTieEzMw0WXYvUdnV3dbT29ff1FgpFDFzW3RVcKmJjgYPJc3IgBhT3IBcv7q3hIAAOL2aXwQPwQf1GwJeXWuRCg31%2BIwGsJQQ0BIJQ4z0U1sLhQcj0SlUQgRWx0szstnW5gpPFuNNEex%2BBz0xwhpz0FyuEykTJY9yYRSQz1eByIAFUgWBIdCajBZfKRo1mm12gAaIjVJVylENdEAJmaMv1UNV6Ph-L1KoqAyaOttBuojW1WNBTuVLph2KNuNs%2BNEhOJtlJC35lJsdz0dM2jKpK12TjZbg5Xi5fh5IQQ8asiZ23Aeh3FqeYrQzPpqYErFoajo1AZYNbkVcGOpbCB9YwZFSQEAA7nIwMEzjxOwIwB8IDBUAURSBNSAAG7kPC8cjKOQ0DAgfkMEAe1IYBkHkPyE8HgDKiBkMjoABleFQEKQEMgiFegbx1ygiAAWQCD01PQD3DOBGgPZoDwANiNKAAA4AE4oAAVgARgQ-9UOUf90ISf8YIQBDlGUdDUNQ4DQJAONGhoKCiAAbVg%2BCEPIAAGVCEKNZQjQSGCAGZ2PIBCEHY3D0LAdCDwAXRA2wD1ZN53BPdD2PY%2BTRAPTkfCzVSkIMzSeAPXlczohjmJAODEKQmtsIAdgSBAjSNMABPso1ULlJCYIQ4CiBYmznLAVDHOc1z3M87yYOUWSCiMg9nTrV0JEvKzWPIASECgdD-3IGtnIEsAoE8kiBOkxdJES71kt9F4jQYyMApAc8GIPepmAAIRkCAIDgKjbAAekG5rwMgk8kBgO8jJYYbmto8wGMm6bqKU9kTwQjS9Dm7SM101LmmWmQZqIHaQFMmhzImqaZHiqqWtVA7mustispyvKCqNIqSq45RyoGlhFNraFxug9KoCQ9yBKNXL8vfL7itK5RUKgA8F30IA
[albums]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAIIA2ARvAM5HAA6SRRAhpTXY88wJYoJxaDJt15guookhaIJovAjIIW1BOJGiWeFD2oohcyT3WTuAMx549AORkJDo1VAhIwt2RslxjYJe-ueohSWKAAWACIs-A7cwdqhAApkLFABpszOMKiEMcwULK4GgUYm6czSHmXMEHg8AOY8SLnciHAU%2BEVV5pY2ds2OCM6u-v1EAL6jAO4IFNR8aVV1yAqdXVJ9xaITm%2BPNjXp48Mj6Mdum%2BYWcO8bNFQumNfWNzdOz86cxKHgpANarpjcdjoUEpmmwqIIrl07s0zukwDBvjoXM0FEoVGpmhcwP90jCdnDTEskCsoVV8WVCdwqcxiaThGVAWUKfCENQoLUAA7Ipo7TLZAjNAjKPAfYo8OAsJaGKkQMxmVQoQxkCV8QwoCAoNgSbbbRg4fDEcgQgAUABJwfAAJJgdBEK3hACEAEoyZa4CbjHaLew4DbXQzuEzuCzmGjlKpSswtDo9LjmBYrCgRsUnC43BstoZsfH1pVqervlA-mTRMHRMDQcV3bnypnJDSiDnS5JQwXigikTwUcVwxio9w6WyW6I28wqVSh7m21SJVKFrrGIw4DAtTyiABhBRRBDG%2BDmxqc1d2rfKfh7v1II8oF1kjln3e%2Bz1X49EM2H1cBwzlvP3Ih9yNDBjXR9BHIhE16fMBiGDMoN2Txm0DUd63HQtflzSs-0nZZhyQkMUPgstJWlERF15Fc127JgAFVOTAHcL3NGA6IY30bTtB1HQAGjfZj6PPNiXxQAAmO1aP4x8IStITb0DPjWNNL1eJYgSpLAHiPxQb15NU60hOEr9PB-NsAMxTxgLjMCIOTAjmDTYYCKpRCYhnNDiwwvgqyzTwpzA1yjOIhdGD1JAKKiKiiHCRQEF0j0zTAaLYvY%2B0nUM5gEqUWLPVtN8MpiyTrTANLuF%2BJAIEmJQwCWAc8v4MANwgLIlVI4KQC4kAADctB4FgKCUagMBAQN6BATSRrtPCRphDAiBG6wEA6-BvFcEauMMEbTPEGaAEYAE59rWzwRos-QbWocaiAAbQAXUO0QRpzM6Lpuu7uBGr5fiemaXvWkApy%2Bu0fqO0bAoukbnEWvAADoACtOTqEadVe462K2u0RoANmEqAAA5dqgABWbacYAFgJigSe2swSYxhAcYoChtoJgnVokEadIKv00dmkAsdx-GidJ8nKep2n6cZ5nWZEdmVM56Tr2Ei68IAemVnnpvRkAABVQlqMglFFNrDFVnnNouvaceE17mBNka52lGb3t1nh9fwWH4al%2B6-pw6gAauzHsbxhKyYAdjMBBhOEsAAGYQ%2BEgn6N2jGcZG27fsenFnoD3GWAABgJy2KGEswMej3OWBxhBc4p7awG21PrZ5k7fcz77s5xvPtooaPdsjkmQ%2BUIuSejqAScp1aeb53bo%2BT0ve%2BE-vB4Xkf%2B9zhvfo%2B4s-cu9uWGjqvtpJlgEoj6OwCgeP6ajifd-3qBD%2BPhBT-Py-u-rkBrqRtnwESuXufb3aMcSZCxrqLOmDMmZmClmMEAYwgA
[users]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAKoDO%2BAFACQwV4CSY6RDAIgIQCURwAOkiJE6VAJbMitekx79BQouIEKiAM1F4yKAHIBDRMoUAbXVr0H5QgA6myAdwh4whoQji7RRwwF8BvpAJwMCi6KKIQggBKCADmolpU1KJIVsEsAMJ4CKEI5PgMKcHcvIZZcQl4lMmpKCxJhSiyLorOlmoaZvoIzSadFio2ZPaOrSpuHl7y-v4COPjEAFJ2KDTjniwAyih4yTEcADSSg8NOm9u7xXJCAFbLlGtGdQ%2BHxw6nR7ZvYE1ttyg%2BfhA%2BxAADddDtdAAjIwIMgYEBXIh8EDVYLIliIoTI9SaHRddFIkALCDdIHNZG9PEGDCEtgk5H7ckgV4jAnIgCMACYAMxc3k8hlMh5skDXEkAAXcngAdHgYMifIz5MiRIxnDTkQA2TlQAAcAE5dOzVGAACychCQqGmqAAVjAmoA7AAGBD6wXKkDCjWiiVSoyy%2BVkz0spwivkRgUgQHeIA
[favourites]: https://studio.apollographql.com/sandbox/explorer?endpoint=http%3A%2F%2Flocalhost%3A4000%2F&explorerURLState=N4IgJg9gxgrgtgUwHYBcQC4QEcYIE4CeABAGICGAbhDHgJYoIDORwAOkkUQGaXV0PM2HTkVph2IojEb4AkuOGcARmSRhBEyUSRlEmyQHNkeJi31ax5yTr2KtYJlDoAHFLQhIrIqNVSEvnAQIZHheAL5eiHBK%2BBp2kly0eIwoAHK6CAFEMj5q6bZaIipqcYWSlvFaNpmVhsamQmUWCk3WGVmSDoxOtK7unrVaPjB%2BBB0iQSHjEYMzhXMiC5xGSCalVe12S0QhbinrCUkp%2BTWFOR5gJ%2BbbKHhkUADWByJuKAA2p4uaMzPscDAoMhuDxEACCYDAABU7o9IRByFQaPQmAAKAAkZAh0PuDzhCL4yMY8nQRFkABEAIQASjMwkxUJhuPhvCRAhRYhJGKxjLxLP4THkNMaIgqnB%2B7D%2BAKB-TBEIAQqooczEfzGOj6Qq1LyVYTiaTKULNBrFdqCWyOUQuWBNUr8ayBWBDXZRURxQN-oDgRxwWBQXg9ihTfa1Va-QGg6q9eTqbTOPSw7QUhHCeywJz4-7E4HlWaHU7yi1XexfkgPdKQT6AOL1ZNsq3V1YIWsOknR-M7CENkzNtUW%2Bs1nPBwWxkWFt0gAA0IAoIVoZCUH0YGBAwoA9KuiKwQPTsbDB5HxBhNyAAGwAJigAA4yABmBAABgAjAAWTEIBBnm9gKBngCsl6UM9DwnTQtx3Hl911Q8SS3c8r1vBAoBfN8Py-H9-yUG9Hy3EDhDA%2BUTUggR5C3GDTwva973-M9AK4E8b3vMhLwfJRn0fMBsMnUDtwhBMkyIh1SOPODKMfTCAE4zzPZ8AHZgkA58bygZ82Jw7j6S7JsBKJaDhIo8SPzAX8ZK4D8gJvGS-zAMhxJPJQ1KQMIQDCIA
